{"version":3,"sources":["App.js","index.js"],"names":["SearchContainer","paramsSearch","useState","value","setValue","className","type","placeholder","onChange","e","target","onClick","MainContainer","search","data","setData","load","setLoad","console","log","useEffect","firebase","database","ref","once","list","forEach","val","filter","item","name","handleClick","i","scope","map","id","shop","url","href","email","phone","style","listStyle","status","Loader","display","justifyContent","alignItems","marginTop","role","ButtonItem","ids","setId","label","classStyle","prev","set","setStatus","App","setSearch","str","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7cf9806f.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/analytics\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/database\";\r\n\r\nfunction App() {\r\n    const [search,setSearch] = useState('');\r\n    const paramsSearch=(str)=>{\r\n        setSearch(str);\r\n    }\r\n    useEffect(()=>{\r\n\r\n    },[search])\r\n  return (\r\n    <div className=\"App\">\r\n        <SearchContainer paramsSearch={paramsSearch} />\r\n        <MainContainer search={search} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SearchContainer = ({paramsSearch}) => {\r\n    const [value,setValue] = useState('');\r\n    const handleChange = (e)=>{\r\n        setValue(e.target.value);\r\n    };\r\n\r\n    const handleClick = ()=>{\r\n        if(value === null){\r\n            paramsSearch('fail');\r\n        }\r\n        paramsSearch(value);\r\n        setValue('');\r\n    };\r\n\r\n\r\n    return (\r\n    <>\r\n\r\n        <div className=\"w-75 mx-auto mb-5\">\r\n        <div className=\"input-group mt-5 mb-3 \">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"Поиск\"\r\n                   aria-label=\"search\" aria-describedby=\"basic-addon2\" value={value} onChange={handleChange}/>\r\n                <div className=\"input-group-append\">\r\n                    <button className=\"btn btn-outline-secondary\" type=\"button\" onClick={handleClick}>Найти</button>\r\n                </div>\r\n        </div>\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n\r\n\r\nconst MainContainer = ({search}) => {\r\n    const [data,setData] = useState([]);\r\n    const [load,setLoad] = useState(false);\r\n    if(search === \"fail\") {\r\n        console.log('om')\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const database = firebase.database();\r\n        const data = database.ref();\r\n        data.once('value', (list) => {\r\n            list.forEach((list) => {\r\n                let data = list.val();\r\n                setData([...data]);\r\n                setLoad(true);\r\n            });\r\n        });\r\n\r\n    },[])\r\n\r\nuseEffect(()=>{\r\n    if(search !== ''){\r\n        setData([...data.filter(item=>item.name === search),...data.filter(item=>item.name !== search)]);\r\n    } else {\r\n        const database = firebase.database();\r\n        const data = database.ref();\r\n        data.once('value', (list) => {\r\n            list.forEach((list) => {\r\n                let data = list.val();\r\n                setData([...data]);\r\n                setLoad(true);\r\n            });\r\n        });\r\n    }\r\n},[search])\r\n\r\n\r\n    const handleClick = (i)=>{\r\n        console.log(i)\r\n    }\r\n    return (\r\n        <>\r\n            {load ?\r\n            <table className=\"table w-75 mx-auto\">\r\n                <thead>\r\n                <tr>\r\n                    <th scope=\"col\">id</th>\r\n                    <th scope=\"col\">Имя клиента</th>\r\n                    <th scope=\"col\">Название магазина</th>\r\n                    <th scope=\"col\">Ссылка</th>\r\n                    <th scope=\"col\">Почта</th>\r\n                    <th scope=\"col\">Телефон</th>\r\n                    <th scope=\"col\">Статус</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {data.map((item)=> (\r\n                    <tr key={item.id}>\r\n                        <th scope=\"row\">{item.id}</th>\r\n                        <td>{item.name ? item.name : '—'}</td>\r\n                        <td>{item.shop ? item.shop : '—'}</td>\r\n                        <td>{item.url ? <a href={`${item.url}`}>{item.url}</a> : '—'}</td>\r\n                        <td>{item.email ? item.email : '—'}</td>\r\n                        <td>{item.phone ? item.phone.map((item,i)=><li style={{listStyle:'none'}} key={i}>\r\n                            <a href={`tel:+${item}`}>+{item}</a></li>) : '—'}</td>\r\n                        <td><ButtonItem status={item.status} handleClick={handleClick} id={item.id}/></td>\r\n                    </tr>\r\n                ))}\r\n\r\n                </tbody>\r\n            </table> : <Loader />}\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nconst Loader =()=>{\r\n    return (\r\n        <div style={{display:'flex',justifyContent:'center',alignItems:'center', marginTop:\"150px\"}}>\r\n            <div className=\"spinner-border\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n            </div>\r\n        </div>\r\n        )\r\n}\r\n\r\nconst ButtonItem = ({status,handleClick,id})=>{\r\n    const [value,setValue] = useState(status);\r\n    const [ids,setId] = useState(id);\r\n    let label = value ? 'Звонили' : 'Не звонили';\r\n    let classStyle = value ? 'btn btn-success':'btn btn-warning'\r\n    const setStatus = (ids)=>{\r\n        setValue(prev=>!prev);\r\n        handleClick(ids);\r\n        firebase.database().ref(`data/${ids-1}/status`).set(!value);\r\n    }\r\n   useEffect(()=>{\r\n       setId(id)\r\n   },[id])\r\n    return (\r\n        <div>\r\n          <button className={classStyle} onClick={()=>setStatus(ids)}>{label}</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\nimport App from './App';\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC7mddBaVnvyTfnvq_2NrxGX6pWHF2FtjI\",\n    authDomain: \"phone-e04e2.firebaseapp.com\",\n    databaseURL: \"https://phone-e04e2-default-rtdb.firebaseio.com\",\n    projectId: \"phone-e04e2\",\n    storageBucket: \"phone-e04e2.appspot.com\",\n    messagingSenderId: \"872737046757\",\n    appId: \"1:872737046757:web:db54231860181cb6ec540c\",\n    measurementId: \"G-JEFPFK6TT3\"\n};\n\n\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}