{"version":3,"sources":["App.js","index.js"],"names":["SearchContainer","paramsSearch","paramsSelect","useState","value","setValue","className","type","placeholder","onChange","e","target","onClick","MainContainer","search","data","setData","load","setLoad","console","log","useEffect","firebase","database","ref","once","list","forEach","val","filter","item","name","handleClick","i","scope","map","id","shop","url","href","email","phone","style","listStyle","status","Loader","display","justifyContent","alignItems","marginTop","role","ButtonItem","ids","setId","label","classStyle","prev","set","setStatus","App","setSearch","select","setSelect","str","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f57be008.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\n\nfunction App() {\n    const [search,setSearch] = useState('');\n    const [select,setSelect] = useState('1');\n    const paramsSearch=(str)=>{\n        setSearch(str);\n    }\n    const paramsSelect=(str)=>{\n        setSelect(str);\n    }\n    useEffect(()=>{\n\n    },[search])\n  return (\n    <div className=\"App\">\n        <SearchContainer paramsSearch={paramsSearch} paramsSelect={paramsSelect}/>\n        <MainContainer search={search} select={select} />\n    </div>\n  );\n}\n\nconst SearchContainer = ({paramsSearch,paramsSelect}) => {\n    const [value,setValue] = useState('');\n    const handleChange = (e)=>{\n        setValue(e.target.value);\n    };\n\n    const handleClick = ()=>{\n        if(value === null){\n            paramsSearch('fail');\n        }\n        paramsSearch(value);\n        setValue('');\n    };\n\n    return (\n    <>\n\n        <div className=\"w-75 mx-auto mb-5\">\n        <div className=\"input-group mt-5 mb-3 \">\n            <input type=\"text\" className=\"form-control\" placeholder=\"Поиск\"\n                   aria-label=\"search\" aria-describedby=\"basic-addon2\" value={value} onChange={handleChange}/>\n                <div className=\"input-group-append\">\n                    <button className=\"btn btn-outline-secondary\" type=\"button\" onClick={handleClick}>Найти</button>\n                </div>\n        </div>\n        </div>\n    </>\n    )\n}\n\n\nconst MainContainer = ({search}) => {\n    const [data,setData] = useState([]);\n    const [load,setLoad] = useState(false);\n    if(search === \"fail\") {\n        console.log('om')\n    }\n\n    useEffect(()=>{\n        const database = firebase.database();\n        const data = database.ref();\n        data.once('value', (list) => {\n            list.forEach((list) => {\n                let data = list.val();\n                setData([...data]);\n                setLoad(true);\n            });\n        });\n\n    },[])\n\nuseEffect(()=>{\n    if(search !== ''){\n        setData([...data.filter(item=>item.name === search),...data.filter(item=>item.name !== search)]);\n    } else {\n        const database = firebase.database();\n        const data = database.ref();\n        data.once('value', (list) => {\n            list.forEach((list) => {\n                let data = list.val();\n                setData([...data]);\n                setLoad(true);\n            });\n        });\n    }\n},[search])\n\n\n    const handleClick = (i)=>{\n        console.log(i)\n    }\n    return (\n        <>\n            {load ?\n            <table className=\"table w-75 mx-auto\">\n                <thead>\n                <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Имя</th>\n                    <th scope=\"col\">Магазин</th>\n                    <th scope=\"col\">URL</th>\n                    <th scope=\"col\">Email</th>\n                    <th scope=\"col\">Телофон</th>\n                    <th scope=\"col\">Статус</th>\n                </tr>\n                </thead>\n                <tbody>\n                {data.map((item)=> (\n                    <tr key={item.id}>\n                        <th scope=\"row\">{item.id}</th>\n                        <td>{item.name ? item.name : '--'}</td>\n                        <td>{item.shop ? item.shop : '--'}</td>\n                        <td>{item.url ? <a href={`${item.url}`}>{item.url}</a> : '--'}</td>\n                        <td>{item.email ? item.email : '--'}</td>\n                        <td>{item.phone ? item.phone.map((item,i)=><li style={{listStyle:'none'}} key={i}>\n                            <a href={`tel:+${item}`}>{item}</a></li>) : '--'}</td>\n                        <td><ButtonItem status={item.status} handleClick={handleClick} id={item.id}/></td>\n                    </tr>\n                ))}\n\n                </tbody>\n            </table> : <Loader />}\n\n        </>\n    );\n};\n\nconst Loader =()=>{\n    return (\n        <div style={{display:'flex',justifyContent:'center',alignItems:'center', marginTop:\"150px\"}}>\n            <div className=\"spinner-border\" role=\"status\">\n                <span className=\"sr-only\"></span>\n            </div>\n        </div>\n        )\n}\n\nconst ButtonItem = ({status,handleClick,id})=>{\n    const [value,setValue] = useState(status);\n    const [ids,setId] = useState(id);\n    let label = value ? 'Звонили' : 'Не звонили';\n    let classStyle = value ? 'btn btn-success':'btn btn-warning'\n    const setStatus = (ids)=>{\n        setValue(prev=>!prev);\n        handleClick(ids);\n        firebase.database().ref(`data/${ids-1}/status`).set(!value);\n    }\n   useEffect(()=>{\n       setId(id)\n   },[id])\n    return (\n        <div>\n          <button className={classStyle} onClick={()=>setStatus(ids)}>{label}</button>\n        </div>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\nimport App from './App';\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC7mddBaVnvyTfnvq_2NrxGX6pWHF2FtjI\",\n    authDomain: \"phone-e04e2.firebaseapp.com\",\n    databaseURL: \"https://phone-e04e2-default-rtdb.firebaseio.com\",\n    projectId: \"phone-e04e2\",\n    storageBucket: \"phone-e04e2.appspot.com\",\n    messagingSenderId: \"872737046757\",\n    appId: \"1:872737046757:web:db54231860181cb6ec540c\",\n    measurementId: \"G-JEFPFK6TT3\"\n};\n\n\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}